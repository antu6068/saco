(function(d){window.Granite=window.Granite||{};"object"===typeof module&&module.exports?module.exports=d(require("@granite/http")):window.Granite.I18n=d(window.Granite.HTTP)})(function(d){return function(){var f={},d="/libs/cq/i18n/dict.",k=".json",g=void 0,l=!1,h=null,c={},m=!1,n=function(a){if(m)return d+a+k;var b,e=document.querySelector("html");e&&(b=e.getAttribute("data-i18n-dictionary-src"));return b?b.replace("{locale}",encodeURIComponent(a)).replace("{+locale}",a):d+a+k};c.LOCALE_DEFAULT=
"en";c.PSEUDO_LANGUAGE="zz";c.PSEUDO_PATTERN_KEY="_pseudoPattern_";c.init=function(a){a=a||{};this.setLocale(a.locale);this.setUrlPrefix(a.urlPrefix);this.setUrlSuffix(a.urlSuffix)};c.setLocale=function(a){a&&(g=a)};c.getLocale=function(){"function"===typeof g&&(g=g());return g||document.documentElement.lang||c.LOCALE_DEFAULT};c.setUrlPrefix=function(a){a&&(d=a,m=!0)};c.setUrlSuffix=function(a){a&&(k=a,m=!0)};c.getDictionary=function(a){a=a||c.getLocale();if(!f[a]){l=0===a.indexOf(c.PSEUDO_LANGUAGE);
try{var b=new XMLHttpRequest;b.open("GET",n(a),!1);b.send();f[a]=JSON.parse(b.responseText)}catch(e){}f[a]||(f[a]={})}return f[a]};c.get=function(a,b,e){var d;var f=c.getDictionary();var g=l?c.PSEUDO_PATTERN_KEY:e?a+" (("+e+"))":a;f&&(d=f[g]);d||(d=a);l&&(d=d.replace("{string}",a).replace("{comment}",e?e:""));a=d;if(b)if(Array.isArray(b))for(e=0;e<b.length;e++)a=a.replace("{"+e+"}",b[e]);else a=a.replace("{0}",b);return a};c.getVar=function(a,b){return a?c.get(a,null,b):null};c.getLanguages=function(){if(!h)try{var a=
new XMLHttpRequest;a.open("GET","/libs/wcm/core/resources/languages.overlay.infinity.json",!1);a.send();var b=JSON.parse(a.responseText);Object.keys(b).forEach(function(a){a=b[a];a.language&&(a.title=c.getVar(a.language));a.title&&a.country&&"*"!==a.country&&(a.title+=" ("+c.getVar(a.country)+")")});h=b}catch(e){h={}}return h};c.parseLocale=function(a){if(!a)return null;var b=a.indexOf("_");0>b&&(b=a.indexOf("-"));if(0>b){var c=a;b=null}else c=a.substring(0,b),b=a.substring(b+1);return{code:a,language:c,
country:b}};return c}()});